<project default="clean" xmlns:j="jelly:core">

  <goal name="custom-clean">
    <echo>Invoking custom-clean</echo>
    <delete dir="./classes"/>
    <delete dir="./bak"/>   
    <delete file="./junitpp.jpr~"/>   
    <delete file="./junitpp.jpr.local~"/>   
    <delete file="./velocity.log"/>   
  </goal>


  <goal name="custom-site">     

    <echo>Generating JUNIT report</echo>
    <attainGoal name="test:test"/>  

    <!-- Document out if not PMD plugin is installed -->
    
    <echo>Generating PMD reports</echo>	
    <attainGoal name="pmd"/>  

  </goal>

  <!-- ############################################################################## -->
  <!-- M A V E N  H O O K S                                                           -->
  <!-- ###############################################################################-->

  <preGoal name="dist:build-bin">
    <mkdir dir="./target"/>
    <mkdir dir="./target/distributions"/>
  </preGoal>

  <preGoal name="dist:build-src">
    <mkdir dir="./target"/>
    <mkdir dir="./target/distributions"/>
  </preGoal>

  <postGoal name="clean">
    <attainGoal name="custom-clean"/>  
  </postGoal>
  
  <preGoal name="site:generate">
    <attainGoal name="custom-site"/>
    
  </preGoal>
  
</project>
